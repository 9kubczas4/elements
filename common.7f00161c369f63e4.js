"use strict";(self.webpackChunkelements_demo=self.webpackChunkelements_demo||[]).push([[592],{9382:(O,d,e)=>{e.d(d,{x:()=>T});var t=e(4650),c=e(6895),h=e(727),E=e(1135),p=e(8372),f=e(6406),_=e(3900),v=e(2076),u=e(262),M=e(515),L=e(5577),C=e(2086);let T=(()=>{class s{constructor(r,n,i,o,l,m){this.platformId=r,this.vcr=n,this.template=i,this.elementsLoaderService=o,this.cfr=l,this.cdr=m,this.url=null,this.loadingTemplateRef=null,this.errorTemplateRef=null,this.isModule=!1,this.importMap=!1,this.viewRef=null,this.subscription=h.w0.EMPTY,this.url$=new E.X(null)}ngOnChanges(r){r.url&&this.url$.next(this.url)}ngOnInit(){(0,c.PM)(this.platformId)||this.setupUrlListener()}ngOnDestroy(){this.subscription.unsubscribe()}destroyEmbeddedView(){this.viewRef&&!this.viewRef.destroyed&&(this.viewRef.detach(),this.viewRef.destroy(),this.viewRef=null)}setupUrlListener(){const r=this.template,n=r._declarationTContainer?r._declarationTContainer.tagName||r._declarationTContainer.value:r._def.element.template.nodes[0].element.name,i=this.elementsLoaderService.getElementConfig(n)||{},o=this.elementsLoaderService.options,l=i.loadingComponent||o.loadingComponent;this.subscription=this.url$.pipe((0,p.b)(0,f.Z),(0,_.w)(m=>{if(this.loadingTemplateRef)this.vcr.createEmbeddedView(this.loadingTemplateRef);else if(l){const a=this.cfr.resolveComponentFactory(l);this.vcr.createComponent(a)}return(0,v.D)(this.elementsLoaderService.loadElement(m,n,this.isModule,this.importMap,i?.hooks)).pipe((0,u.K)(()=>{this.vcr.clear();const a=i.errorComponent||o.errorComponent;if(this.errorTemplateRef)this.vcr.createEmbeddedView(this.errorTemplateRef),this.cdr.markForCheck();else if(a){const R=this.cfr.resolveComponentFactory(a);this.vcr.createComponent(R),this.cdr.markForCheck()}return M.E}))}),(0,L.z)(()=>customElements.whenDefined(n))).subscribe({next:()=>{this.vcr.clear(),this.viewRef=this.vcr.createEmbeddedView(this.template),this.cdr.markForCheck()}})}}return s.\u0275fac=function(r){return new(r||s)(t.Y36(t.Lbi),t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(C.$),t.Y36(t._Vd),t.Y36(t.sBO))},s.\u0275dir=t.lG2({type:s,selectors:[["","axLazyElement",""]],inputs:{url:["axLazyElement","url"],loadingTemplateRef:["axLazyElementLoadingTemplate","loadingTemplateRef"],errorTemplateRef:["axLazyElementErrorTemplate","errorTemplateRef"],isModule:["axLazyElementModule","isModule"],importMap:["axLazyElementImportMap","importMap"]},features:[t.TTD]}),s})()}}]);